const hex = [
  0x03, // versÃ£o
  0x74,
  0x0b,
  0x16, // data update
  2,
  0,
  0,
  0, // numRecords
  0xc2,
  0, // tamanho header
  0x12,
  0, // tamanho do record
  0,
  0, // reservado
  0,
  0, // reservado DBASE IV
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0, // reservado multiuser
  0, // usa .mdx
  0, // lingua
  0,
  0, // reservado

  // Field Descritor
  0x46,
  0x49,
  0x45,
  0x4c,
  0x44,
  0x31,
  0,
  0,
  0,
  0,
  0, // FIELD1
  0x43, // C
  0,
  0,
  0,
  0, // reservado
  1, // field length
  0, // decimal
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,

  0x46,
  0x49,
  0x45,
  0x4c,
  0x44,
  0x32,
  0x00,
  0x00,
  0x00,
  0x00,
  0x00, // FIELD2
  0x4e, // N
  0x00,
  0x00,
  0x00,
  0x00, // reservado
  0x01, // field length
  0x00, // decimal
  0x00,
  0x00,
  0x00,
  0x00,
  0x00,
  0x00,
  0x00,
  0x00,
  0x00,
  0x00,
  0x00,
  0x00,
  0x00,
  0x00,

  0x46,
  0x49,
  0x45,
  0x4c,
  0x44,
  0x33,
  0x00,
  0x00,
  0x00,
  0x00,
  0x00, // FIELD3
  0x4e, // N
  0x00,
  0x00,
  0x00,
  0x00, // reservado
  0x06, // field length
  0x02, // decimal
  0x00,
  0x00,
  0x00,
  0x00,
  0x00,
  0x00,
  0x00,
  0x00,
  0x00,
  0x00,
  0x00,
  0x00,
  0x00,
  0x00,

  0x46,
  0x49,
  0x45,
  0x4c,
  0x44,
  0x34,
  0x00,
  0x00,
  0x00,
  0x00,
  0x00, // FIELD4
  0x4c, // L
  0x00,
  0x00,
  0x00,
  0x00, // reservado
  0x01, // field length
  0x00, // decimal
  0x00,
  0x00,
  0x00,
  0x00,
  0x00,
  0x00,
  0x00,
  0x00,
  0x00,
  0x00,
  0x00,
  0x00,
  0x00,
  0x00,

  0x46,
  0x49,
  0x45,
  0x4c,
  0x44,
  0x35,
  0x00,
  0x00,
  0x00,
  0x00,
  0x00, // FIELD5
  0x44, // D
  0x00,
  0x00,
  0x00,
  0x00, // reservado
  0x08, // field length
  0, // decimal
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,

  0x0d, // fim do Field Descritor

  0x00,

  // #1
  0x20, // _ ou * para excluido
  0x61, // a
  0x31, // 1
  0x20,
  0x20,
  0x31,
  0x2e,
  0x31,
  0x30, // __1.10
  0x54, // T
  0x32,
  0x30,
  0x30,
  0x30,
  0x30,
  0x31,
  0x30,
  0x31, // 20000101
  // #2
  0x20, // _ ou * para excluido
  0x62, // b
  0x32, // 2
  0x20,
  0x20,
  0x32,
  0x2e,
  0x32,
  0x30, // __2.20
  0x46, // F
  0x32,
  0x30,
  0x30,
  0x30,
  0x30,
  0x31,
  0x30,
  0x32, // 20000102

  0x1a, // eof
]

const dbfMock = Buffer.from(hex)

function readSync(_fd, buf, offset, len, pos): number {
  return dbfMock.copy(buf, offset, pos, pos + len)
}

export const fs = {
  //   module.exports = {
  readSync: jest.fn(readSync),

  read: jest.fn((_fd, buf, offset, len, pos, cb) => {
    const rsp = dbfMock.copy(buf, offset, pos, pos + len)
    cb(null, rsp, buf)
  }),

  openSync: jest.fn(() => 1),

  closeSync: jest.fn(() => 1),
}

export default fs
